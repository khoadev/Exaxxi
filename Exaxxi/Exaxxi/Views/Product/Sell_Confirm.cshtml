@using Microsoft.AspNetCore.Http
@inject Microsoft.AspNetCore.Http.IHttpContextAccessor HttpContextAccessor
<div class="p-5" style="background-color:#f2f2f2; min-height:100vh;">
    <div class="container" ng-controller="Item_Attribute">
        <div class="row">
            <div class="col-12">
                <h1 class="checkout-header-text" align="center">Review Your Sale</h1>
            </div>
            <div class="col-lg-12" style=" padding:20px 30px">
                <div class="row">
                    <div class="col-12 p-2" style="background:white;">
                        <div class="row">
                            <div class="col-lg-2">
                                <img src="images/{{name[0].item.img}}" class="img-fluid" />
                            </div>
                            <div class="col-lg-10" style="border-left:solid thick #ab1113">
                                <div class="checkout-product-name">
                                    {{name[0].item.name}}
                                </div>
                                <div class="checkout-product-info">
                                    Highest Bid: <b>{{name[0].size.highest_bid | currency:"":0:3}} VND</b> | Lowest Ask: <b>{{name[0].size.lowest_ask | currency:"":0:3}} VND</b><br />
                                    Size <b>{{name[0].dsSize.vn}}</b>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row mt-3">
                    <div class="col-12 p-2" style="background:white;">
                        <div class="row">
                            <div class="col-12">
                                <h4 class="checkout-header-text">
                                    Order Summary
                                </h4>
                            </div>
                            <div class="col-12">
                                <table style="font-family:ralemed;width:100%">
                                    <tr>
                                        <td class="td-w25">
                                            Name
                                        </td>
                                        <td class="td-w10">
                                            <i class="fas fa-chevron-right" style="opacity:0.5"></i>
                                        </td>
                                        <td class="td-w65 font-weight-bold">
                                            @HttpContextAccessor.HttpContext.Session.GetString("sell_account").ToString()
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="td-w25">
                                            Phone
                                        </td>
                                        <td class="td-w10">
                                            <i class="fas fa-chevron-right" style="opacity:0.5"></i>
                                        </td>
                                        <td class="td-w65 font-weight-bold">
                                            @HttpContextAccessor.HttpContext.Session.GetString("sell_phone").ToString()
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="td-w25">
                                            Address
                                        </td>
                                        <td class="td-w10">
                                            <i class="fas fa-chevron-right" style="opacity:0.5"></i>
                                        </td>
                                        <td class="td-w65 font-weight-bold">
                                            @HttpContextAccessor.HttpContext.Session.GetString("sell_address").ToString()
                                        </td>
                                    </tr>
                                </table>
                                <hr />
                                <table style="font-family:ralemed;width:100%">
                                    <tr>
                                        <td class="td-w25">
                                            Item's Name
                                        </td>
                                        <td class="td-w10">
                                            <i class="fas fa-chevron-right" style="opacity:0.5"></i>
                                        </td>
                                        <td class="td-w65 font-weight-bold">
                                            {{name[0].item.name}}
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="td-w25">
                                            Brand
                                        </td>
                                        <td class="td-w10">
                                            <i class="fas fa-chevron-right" style="opacity:0.5"></i>
                                        </td>
                                        <td class="td-w65 font-weight-bold">
                                            {{name[0].brand_name}}
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="td-w25">
                                            Category
                                        </td>
                                        <td class="td-w10">
                                            <i class="fas fa-chevron-right" style="opacity:0.5"></i>
                                        </td>
                                        <td class="td-w65 font-weight-bold">
                                            {{name[0].cate_name}}
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="td-w25">
                                            Size
                                        </td>
                                        <td class="td-w10">
                                            <i class="fas fa-chevron-right" style="opacity:0.5"></i>
                                        </td>
                                        <td class="td-w65 font-weight-bold">
                                            {{name[0].dsSize.vn}}
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="td-w25">
                                            Highest Bid
                                        </td>
                                        <td class="td-w10">
                                            <i class="fas fa-chevron-right" style="opacity:0.5"></i>
                                        </td>
                                        <td class="td-w65 font-weight-bold">
                                            {{name[0].size.highest_bid | currency:"":0:3}} VND
                                        </td>
                                    </tr>
                                    @if (ViewBag.Act == 1)
                                    {

                                        <tr>
                                            <td class="td-w25">
                                                Bid
                                            </td>
                                            <td class="td-w10">
                                                <i class="fas fa-chevron-right" style="opacity:0.5"></i>
                                            </td>
                                            <td class="td-w65 font-weight-bold">
                                                @Convert.ToDouble(HttpContextAccessor.HttpContext.Session.GetString("sell_enter_ask")).ToString("#,###") VND
                                            </td>
                                        </tr>

                                        <tr>
                                            <td class="td-w25">
                                                Exp Day
                                            </td>
                                            <td class="td-w10">
                                                <i class="fas fa-chevron-right" style="opacity:0.5"></i>
                                            </td>
                                            <td class="td-w65 font-weight-bold">
                                                @HttpContextAccessor.HttpContext.Session.GetString("sell_exp_day") Day
                                            </td>
                                        </tr>
                                    }
                                </table>
                                <hr />
                                <table style="font-family:ralemed;width:100%">
                                    <tr>
                                        <td class="td-w25">
                                            Payment Method
                                        </td>
                                        <td class="td-w10">
                                            <i class="fas fa-chevron-right" style="opacity:0.5"></i>
                                        </td>
                                        <td class="td-w65 font-weight-bold">
                                            @HttpContextAccessor.HttpContext.Session.GetString("sell_payment").ToString()
                                        </td>
                                    </tr>
                                </table>
                                <hr />
                            </div>
                            <div class="col-12">
                                <h4 class="checkout-header-text">
                                    Payment Info
                                </h4>
                            </div>
                            <div class="col-12">
                                <table style="font-family:ralemed;width:100%">
                                    <tr>
                                        <td colspan="3">
                                            <div class="row">
                                                <div class="col-4">
                                                    <input type="text" disabled="disabled" class="form-control checkout-input " placeholder="Enter Bid" value="{{name[0].size.highest_bid}}" style="background-color:#FFF" />
                                                </div>
                                                <div class="col-2 checkout-curency">
                                                    VNĐ
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="td-w25">
                                            Transacton Fee({{@HttpContextAccessor.HttpContext.Session.GetString("sell_service_fee") * 100}}) %
                                        </td>
                                        <td class="td-w10">
                                            <i class="fas fa-chevron-right" style="opacity:0.5"></i>
                                        </td>
                                        <td class="td-w65 font-weight-bold">
                                            {{name[0].size.highest_bid * @HttpContextAccessor.HttpContext.Session.GetString("sell_service_fee")  | currency:"":0:3}} VND
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="td-w25">
                                            Shipping Fee({{@HttpContextAccessor.HttpContext.Session.GetString("sell_payment_fee") * 100}}) %
                                        </td>
                                        <td class="td-w10">
                                            <i class="fas fa-chevron-right" style="opacity:0.5"></i>
                                        </td>
                                        <td class="td-w65 font-weight-bold">
                                            {{name[0].size.highest_bid * @HttpContextAccessor.HttpContext.Session.GetString("sell_payment_fee") | currency:"":0:3}} VND
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="td-w25">
                                            Shipping Fee
                                        </td>
                                        <td class="td-w10">
                                            <i class="fas fa-chevron-right" style="opacity:0.5"></i>
                                        </td>
                                        <td class="td-w65 font-weight-bold">
                                            Free
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="td-w25 font-weight-bold">
                                            Total Cash
                                        </td>
                                        <td class="td-w10">
                                            <i class="fas fa-chevron-right" style="opacity:0.5"></i>
                                        </td>
                                        <td class="td-w65 font-weight-bold">
                                            @Convert.ToDouble(HttpContextAccessor.HttpContext.Session.GetString("sell_total_price")).ToString("#,###") VND
                                        </td>
                                    </tr>
                                </table>
                                <hr />
                            </div>
                            <div class="col-12">
                                <h4 class="checkout-header-text">
                                    How It Works
                                </h4>
                                <div class="row" style="font-family:ralemed">
                                    <div class="col-md-4 mb-2">
                                        Make an offer that any seller can accept; or purchase immediately at the lowest Ask.
                                    </div>
                                    <div class="col-md-4 mb-2">
                                        Seller ships to us. We authenticate, then we release funds to the seller.
                                    </div>
                                    <div class="col-md-4 mb-2">
                                        We ship to you. You sip a daiquiri, knowing you will never get a fake.
                                    </div>
                                    <hr />
                                    <div class="col-12">
                                        <iframe src="term.html" width="100%" height="300px" frameborder="1"></iframe>
                                    </div>
                                    <div class="col-12">
                                        <label class="checkbox-container">
                                            I'm ensure that my product is the best
                                            <input type="checkbox" name="term">
                                            <span class="checkmark"></span>
                                        </label>
                                        <label class="checkbox-container">
                                            Ship in 3 days bitch
                                            <input type="checkbox" name="term">
                                            <span class="checkmark"></span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 d-flex justify-content-between mt-3">
                                <button class="btn btn-light">
                                    <a href="/Product/Sell?id=@ViewBag.IdItem&size=@ViewBag.SizeVN">Back</a>
                                </button>
                                <button class="btn checkout-btn issell">
                                    <a style="color:#FFF; text-decoration:none" href="/Product/Confirm_Sell?id=@ViewBag.IdItem&act=@ViewBag.Act&size=@ViewBag.SizeVN">Confirm Sell</a>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>
@section Scripts{
    <script>

        //Items Attribute
        exaxxiApp.controller('Item_Attribute', function ($scope, $http) {
            $http.get("/api/ItemsAPI/Detail/" + @ViewBag.IdItem + "/" + @ViewBag.SizeVN)
                .then(function (response) { $scope.name = response.data });
        });

    </script>
}