<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - Exaxxi</title>

    <environment include="Development">
        <link rel="stylesheet" href="~/css/bootstrap.min.css" />
        <link rel="stylesheet" href="~/css/demo.css" />
        <link rel="stylesheet" href="~/lib/fontawesome-free-5.1.0-web/css/all.css" />
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.8/angular.min.js"></script>
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css" integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">
    </environment>
</head>
<body ng-app="exaxxiApp">
    <div id="mySidenav" class="sidenav">
        <!-- Start sidenav -->
        <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
        <div id="sidenav-logsign"><a asp-controller="Login" asp-action="Register">SIGN UP</a>/<a asp-controller="Login" asp-action="Login" id="sidenav-logsign-login-text">login</a></div>
        <a asp-controller="Home" asp-action="Index">Exxaxxi</a>
        <div id="sidenav-sub-section">
            <!-- Start sidenav-sub... -->
            <a href="#" class="sidenav-sub-link" data-toggle="collapse" data-target="#cate1">Cate's Name</a>
            <div id="cate1" class="collapse sidenav-product">
                <!-- Start sidenav-product -->
                <a href="#">Product's name</a>
                <a href="#">Product's name</a>
                <a href="#">Product's name</a>
                <a href="#">Product's name</a>
            </div> <!-- End sidenav-product -->
            <a href="#" class="sidenav-sub-link">Cate's Name</a>
            <a href="#" class="sidenav-sub-link">Cate's Name</a>
            <a href="#" class="sidenav-sub-link">Cate's Name</a>
        </div> <!-- End sidenav-sub-... -->
        <a href="#">Browse</a>
        <a href="#">News</a>
        <a href="#">App</a>
        <a href="#">FaQ</a>
    </div> <!-- End sidenav -->

    <nav class="navbar navbar-expand navbar-dark navbar-custom fixed-top" id="fixed-top">
        <!-- Start nav -->
        <!-- Brand -->
        <div class="container-fluid">
            <a class="navbar-brand" asp-controller="Home" asp-action="Index" id="brand">Exxaxxi</a>
            <button class="navbar-toggler order-first d-flex d-sm-none" type="button" onclick="openNav()">
                <span class="navbar-toggler-icon"></span>
            </button>
            <!-- Links -->
            <ul class="navbar-nav">
                <li class="nav-item d-none d-md-flex">
                    <a class="nav-link" href="#">Browse</a>
                </li>
                <li class="nav-item d-none d-md-flex">
                    <a class="nav-link" href="#">News</a>
                </li>
                <li class="nav-item d-none d-md-flex">
                    <a class="nav-link" href="#">App</a>
                </li>
                <li class="nav-item d-none d-md-flex">
                    <a class="nav-link" href="#">FaQ</a>
                </li>
                <li class="dropdown mega-dropdown nav-item">
                    <!-- Start Search Mega Dropdown -->
                    <a href="#" class="nav-link " data-toggle="dropdown"><i class="fas fa-search"></i></a>
                    <ul class="dropdown-menu mega-dropdown-menu" id="avoid">
                        <!-- Start Mega Menu -->
                        <div class="container" ng-controller="searchCtrl">
                            <li class="col-xs-12">
                                <div class="row">
                                    <div class="col-12">
                                        <input type="text" name="key" ng-model="key" class="form-control" placeholder="Search" id="search_input">
                                    </div>
                                </div>
                                
                                
                            </li>
                            <li class="col-xs-12 custom-scrollbar" id="search-result-wrapper" ng-if="key">
                                <div class="dropdown-divider"></div>
                                <div class="row">
                                    <div class="col-12 search-result-text">
                                        Search Result:
                                    </div>
                                </div>
                                <div class="row search-result-product-wrapper" ng-repeat="x in names  | filter:key">
                                    <div class="col-3 col-md-2" align="center">
                                        <img src="~/images/{{x.img}}" class="search-img" />
                                    </div>
                                    <div class="col-9 col-md-10 search-name-wrapper">

                                        <div><span class="search-brand-name">{{x.name_brand}}</span>/<span class="search-category-name">{{x.name_cate}}</span></div>

                                        <a href="#" class="search-product-name">
                                            {{x.name}}
                                        </a>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-12 search-empty-result-text" ng-show="(names | filter:key).length == 0">Nothing here</div>
                                </div>
                                <div class="dropdown-divider"></div>
                            </li>
                        </div>
                    </ul><!-- End Mega Menu -->
                </li> <!-- End Search Mega Dropdown -->
                @if (!User.Identity.IsAuthenticated)
                {

                    <li class="nav-item d-none d-md-flex btn-signup-wrapper">
                        <a class="nav-link btn btn-signup" asp-controller="Login" asp-action="Register">Sign Up</a>
                    </li>
                    <li class="nav-item d-none d-md-flex">
                        <a class="nav-link link-login" asp-controller="Login" asp-action="Login"><i class="fas fa-sign-in-alt fa-fw"></i> Login</a>
                    </li>
                }
                else
                {
                    <li>
                        <a class="nav-link" asp-controller="Login" asp-action="Profile">
                            Xin chào
                            <b>@User.Identity.Name</b>
                        </a>
                    </li>
                    <li>
                        <a class="nav-link" asp-controller="Login" asp-action="Logout">
                            <span class="glyphicon glyphicon-log-in"></span> Logout
                        </a>
                    </li>
                }
            </ul>
              
        </div>
    </nav> <!-- End nav -->


    @RenderBody()

    <footer>
        <div class="container-fluid" id="footer-wrapper">
            <div class="row">
                <div class="col-md-4 col-lg-2">
                    <p class="footer-content-header">Brand's name</p>
                    <a href="#">Product's name</a> <br>
                    <a href="#">Product's name</a> <br>
                    <a href="#">Product's name</a> <br>
                    <a href="#">Product's name</a> <br>
                </div>
                <div class="col-md-4 col-lg-2">
                    <p class="footer-content-header">Brand's name</p>
                    <a href="#">Product's name</a> <br>
                    <a href="#">Product's name</a> <br>
                    <a href="#">Product's name</a> <br>
                    <a href="#">Product's name</a> <br>
                </div>
                <div class=" col-md-4 col-lg-2">
                    <p class="footer-content-header">Brand's name</p>
                    <a href="#">Product's name</a> <br>
                    <a href="#">Product's name</a> <br>
                    <a href="#">Product's name</a> <br>
                    <a href="#">Product's name</a> <br>
                </div>
                <div class="col-md-4 col-lg-2">
                    <p class="footer-content-header">Brand's name</p>
                    <a href="#">Product's name</a> <br>
                    <a href="#">Product's name</a> <br>
                    <a href="#">Product's name</a> <br>
                    <a href="#">Product's name</a> <br>
                </div>
                <div class="col-md-4 col-lg-2">
                    <p class="footer-content-header">Brand's name</p>
                    <a href="#">Product's name</a> <br>
                    <a href="#">Product's name</a> <br>
                    <a href="#">Product's name</a> <br>
                    <a href="#">Product's name</a> <br>
                </div>
                <div class="col-md-4 col-lg-2">
                    <p class="footer-content-header">Brand's name</p>
                    <a href="#">Product's name</a> <br>
                    <a href="#">Product's name</a> <br>
                    <a href="#">Product's name</a> <br>
                    <a href="#">Product's name</a> <br>
                </div>
            </div>
        </div>
        <div class="container-fluid" id="copyright">
            <div class="col-12" align="right">
                ©Exxaxxi. All rights reserved
            </div>
        </div>
    </footer>
    <script>
    var exaxxiApp = angular.module('exaxxiApp', []);
    exaxxiApp.controller('searchCtrl', function ($scope, $http) {
            $http.get("/api/ItemsAPI/Search")
                .then(function (response) { $scope.names = response.data; });
     });
    $('#avoid').click(function (e) {
        e.stopPropagation();
    });
    </script>
    <environment include="Development">
        <script src="~/js/jquery-3.4.1.js"></script>
        <script src="~/js/bootstrap.min.js"></script>
        <script src="~/js/demo.js" asp-append-version="true"></script>
        <script src="~/js/angularCtrl.js" asp-append-version="true"></script>
    </environment>

    @RenderSection("Scripts", required: false)


</body>
</html>
