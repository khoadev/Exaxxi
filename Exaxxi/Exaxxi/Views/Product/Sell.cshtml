@using Microsoft.AspNetCore.Http
@inject Microsoft.AspNetCore.Http.IHttpContextAccessor HttpContextAccessor

<div class="container-fluid" style="background-color:#f2f2f2; min-height:100vh; margin-top:40px" ng-controller="Item_Attribute">
    <div class="row">
        <div class="col-lg-7" style=" padding:20px 30px">
            <div class="row">
                <div class="col-12 p-2" style="background:white;">
                    <div class="row">
                        <div class="col-lg-2">
                            <img src="images/{{name[0].item.img}}" class="img-fluid" />
                        </div>
                        <div class="col-lg-10" style="border-left:solid thick #ab1113">
                            <div class="checkout-product-name">
                                {{name[0].item.name}}
                            </div>
                            <div class="checkout-product-info">
                                Highest Bid: <b>${{name[0].item.highest_bid}}</b> | Lowest Ask: <b>${{name[0].item.lowest_ask}}</b><br />
                                Size <b>{{name[0].size}}</b>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row mt-3">
                <div class="col-12" style="padding:0px!important">
                    <div class="card-deck">
                        <div class="card mb-3" style="background:white;">
                            <div class="card-body">
                                <div class="checkout-card-title text-center">
                                    Place Ask
                                </div>
                                <div class="row">
                                    <div class="col-10">
                                        <input type="text" class="form-control checkout-input " placeholder="Enter Bid" />
                                    </div>
                                    <div class="col-2 checkout-curency">
                                        Đ
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-12 checkout-suggestion">
                                        A good bid around 200.000VND
                                    </div>
                                </div>
                                <div class="checkout-estimated-wrapper">
                                    <div class="row checkout-estimated">
                                        <div class="col-6">
                                            Transaction fee
                                        </div>
                                        <div class="col-6 text-right">
                                            200.000VND
                                        </div>
                                    </div>
                                    <div class="row checkout-estimated">
                                        <div class="col-6">
                                            Payment Proc. (3%)
                                        </div>
                                        <div class="col-6 text-right">
                                            200.000VND
                                        </div>
                                    </div>
                                    <div class="row checkout-estimated">
                                        <div class="col-6">
                                            Estimated Shipping
                                        </div>
                                        <div class="col-6 text-right">
                                            200.000VND
                                        </div>
                                    </div>
                                    <div class="row checkout-estimated">
                                        <div class="col-6">
                                            Total
                                        </div>
                                        <div class="col-6 text-right">
                                            -
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-6">
                                        <i class="far fa-clock fa-fw"></i> <label for="sel1">Bid Expiration:</label>
                                    </div>
                                    <div class="col-6">
                                        <div class="form-group">
                                            <select class="form-control" id="sel1">
                                                <option>30 days</option>
                                                <option>7 days</option>
                                                <option>14 days</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-12 text-center">
                                        <button class="btn checkout-btn issell col-4">
                                            Ask
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="card mb-3" style="background:white;">
                            <div class="card-body">
                                <div class="checkout-card-title text-center">
                                    Sell
                                </div>
                                <div class="row">
                                    <div class="col-10">
                                        <input type="text" disabled="disabled" class="form-control checkout-input " placeholder="Enter Bid" value="{{name[0].item.highest_bid}}" />
                                    </div>
                                    <div class="col-2 checkout-curency">
                                        Đ
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-12 checkout-suggestion">
                                        You are about to purchase this product at the lowest Ask price
                                    </div>
                                </div>
                                <div class="checkout-estimated-wrapper">
                                    <div class="row checkout-estimated">
                                        <div class="col-6">
                                            Transaction fee
                                        </div>
                                        <div class="col-6 text-right">
                                            200.000VND
                                        </div>
                                    </div>
                                    <div class="row checkout-estimated">
                                        <div class="col-6">
                                            Payment Proc. (3%)
                                        </div>
                                        <div class="col-6 text-right">
                                            200.000VND
                                        </div>
                                    </div>
                                    <div class="row checkout-estimated">
                                        <div class="col-6">
                                            Estimated Shipping
                                        </div>
                                        <div class="col-6 text-right">
                                            200.000VND
                                        </div>
                                    </div>
                                    <div class="row checkout-estimated">
                                        <div class="col-6">
                                            Total
                                        </div>
                                        <div class="col-6 text-right">
                                            -
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-12 text-center">
                                        <button class="btn checkout-btn issell col-4">
                                            Sell
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
        <div class="col-lg-5 order-first order-lg-last" style=" padding:20px 30px">
            <div class="row">
                <div class="col-12" style="background:white;">
                    <div class="row">
                        <div class="col-12 p-3">
                            <div class="checkout-card-title text-center">
                                Seller Detail
                            </div>
                            <form>
                                <div class="form-group">
                                    <input disabled="disabled" type="text" class="form-control checkout-input" style="font-size:20px" placeholder="Enter your account" value="{{user_info.name}}">
                                </div>
                                <div class="form-group">
                                    <input disabled="disabled" type="text" class="form-control checkout-input" style="font-size:20px" placeholder="Enter your phone" value="{{user_info.phone}}">
                                </div>
                                <div class="form-group">
                                    <textarea disabled="disabled" type="text" class="form-control checkout-input" style="font-size:20px" placeholder="Enter your address" rows="3">{{user_info.address}}</textarea>
                                </div>
                            </form>
                            <div class="mb-2" style="font-family:coolrg;">
                                Billing Method:
                            </div>
                            <div class="checkout-payment">
                                <input class="d-none" id="payment2" name="payment" type="radio" checked="checked" />
                                <label for="payment2" class="checkout-payment-wrapper">
                                    Credit / Debit<br />
                                    <span class="checkout-payment-desc">
                                        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.
                                    </span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts{
    <script>

        exaxxiApp.controller('Item_Attribute', function ($scope, $http) {
            //Items Attribute
            $http.get("/api/ItemsAPI/TakeAttributeItem/" + @ViewBag.IdItem)
            .then(function (response) { $scope.name = response.data });

            //Take Info User
            $http.get("/api/UsersAPI/" + @HttpContextAccessor.HttpContext.Session.GetInt32("idUser"))
                    .then(function (response) { $scope.user_info = response.data });
        });

    </script>
}